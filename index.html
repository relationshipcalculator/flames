<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Flames</title>
  <meta name="keywords" content="love calculator, flames test, love percentage, relationship, affection, lovers, friends, relations">
  <meta name="description" content="Relationship calculator checks two good human being relationship status. Lets cross your fingers and check now.">
  <link rel="stylesheet" type="text/css" href="assets/css/material.min.css">
  <style type="text/css">
    .main {
      background-color: #1e5cf7;
    }
    .mdl-card {
      padding: 10px 20px;
      position: absolute;
      top: 50%;
      transform: translate(-50%, -50%);
    }
    .mdl-card__title-text {
      margin: 0 auto;
    }
    .mdl-textfield {
      width: 100%;
    }
    .mdl-textfield__input {
      border-bottom: 1px solid #b5b5b5;
    }
    .mdl-textfield__label {
      color: #b5b5b5;
    }
    .mdl-card__actions {
      text-align: center;
    }
    .mdl-dialog {
      width: 100%;
      padding: 0;
      height: 100%;
      top: 0;
    }
    .close {
      padding: 10px;
      position: absolute;
      right: 12px;
      background: #fd3c5e;
    }
    .shapes {
      display: none;
      margin: 0 auto;
      text-align: center;
      position: absolute;
      top: 50%;
      transform: translate(-50%, -50%);
      left: 50%;
    }
    .shapes .icon {
      width: 450px;      
    }
    .yourResult {
      font-size: 28px;
      margin: 0;
    }
    @media only screen and (max-width: 500px) {
      .shapes .icon {
        width: 100%;      
      }
      .yourResult {
        font-size: 18px;
        line-height: 30px;
      }
    }
  </style>
</head>
<body>
<section class="mdl-layout mdl-js-layout main">
  <div class="mdl-grid">
    <div class="mdl-card mdl-shadow--2dp">
      <div class="mdl-card__title">
        <h1 class="mdl-card__title-text">Relationship Status</h1>
      </div>
      <div class="error"></div>
      <div class="relationship-form">        
        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
          <input class="mdl-textfield__input" type="text" pattern="[A-Z,a-z, ]*" id="yourName">
          <label class="mdl-textfield__label" for="yourName">Your Name...</label>
          <span class="mdl-textfield__error">Please enter your name..</span>
        </div>
        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
          <input class="mdl-textfield__input" type="text" pattern="[A-Z,a-z, ]*" id="partnerName">
          <label class="mdl-textfield__label" for="partnerName">Partner Name...</label>
          <span class="mdl-textfield__error">Please enter partner name..</span>
        </div>
      </div>
      <div class="mdl-card__actions">
        <button id="launch" class="mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored">
            <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="#FFFFFF" version="1.1" viewBox="0 0 100 100">
              <path d="M70.5,40.5c-0.2-2.5-2.1-4.6-4.6-5.1c-0.3-0.1-0.7-0.1-1-0.1c-1.4,0-2.6,0.5-3.6,1.3c0-0.1-0.1-0.1-0.1-0.2 c-0.9-1.2-2.2-2-3.6-2.3c-0.3-0.1-0.7-0.1-1-0.1c-1.2,0-2.4,0.4-3.3,1.1c-0.2-1.9-0.5-4.9-0.9-8.3c3.1-3.7,10.6-13.5,6.4-17.3 c-2.9-2.6-5.9-1.5-7.4,0c-0.2,0.2-0.6,0.5-1.2,1.1c-0.2-1-0.3-1.8-0.4-2.3C49,5.6,46.8,3.7,44,3.6c-2.8-0.1-5.1,1.7-5.9,4.4 c-0.3,1.1,0,8.4,0.4,15.9c-0.9,1.2-3.4,4.4-4.6,6.3c-1.2,1.9-1.8,8.6-2.1,12.7c-2.2,3.5-5.4,14.1-5.5,14.7c-1.4,5.3,2,22.2,6.8,26.3 c1.2,1.1,1.9,2.7,2,8.9c0,0.7,0.5,1.2,1.1,1.4c0.5,0.1,8.2,2.1,16.7,2.1c4.3,0,8.7-0.5,12.6-2c0.6-0.2,1-0.9,1-1.5 c-0.2-1.7-0.2-4.9,0.4-6.2c0.3-0.7,0.8-1.4,1.5-2.2c0.8-1,1.9-2.4,3-4.4C74.1,74.8,75.7,44.4,70.5,40.5z M64.9,38.4 c0.2,0,0.3,0,0.5,0c1.4,0.2,2.4,1.6,2.1,3l-2.7,15.3c-0.2,1.4-1.6,2.4-3,2.1c-1.4-0.2-2.4-1.6-2.1-3l2.7-15.3 C62.6,39.3,63.6,38.4,64.9,38.4z M56.6,37.1c0.2,0,0.3,0,0.5,0c0.7,0.1,1.3,0.5,1.7,1.1c0.4,0.6,0.6,1.3,0.4,2l-2.7,15.3 c-0.2,1.4-1.6,2.4-3,2.1c-1.4-0.2-2.4-1.6-2.1-3l0.9-5.3c2.1-1.5,3.7-3.5,4.6-6c0.8-2.4,0.7-4.7-0.4-6.2 C56.5,37.1,56.6,37.1,56.6,37.1z M53.1,12.1c0.1-0.1,0.3-0.2,0.4-0.3c0.2-0.3,1.5-1.5,3.3,0.1c1.2,1.1-1.4,6.1-4.9,10.8 c-0.3-2.8-0.7-5.7-1.1-8.1C51.7,13.5,52.8,12.3,53.1,12.1z M41,8.9c0.5-1.7,1.9-2.3,2.9-2.2c1.4,0,2.5,1,2.8,2.5 c1,4.2,3,22.1,3.5,27c-1.1,0.3-2.3,0.6-3.6,1c-1.6,0.4-3,0.8-4.2,1.2C41.7,27.1,40.7,10.5,41,8.9z M36.5,31.9 c0.5-0.9,1.4-2.1,2.3-3.3c0.3,4.2,0.5,8.1,0.7,10.7c-1.8,0.6-3.3,1.1-4.5,1.6C35.5,36.6,36,32.7,36.5,31.9z M68.8,78.7 c-0.9,1.8-1.8,2.9-2.6,3.9c-0.7,0.9-1.5,1.8-1.9,2.9c-0.8,1.8-0.8,4.8-0.7,6.5c-9.1,2.9-21.6,0.5-25.4-0.3c-0.2-5.2-0.8-8-3-10 c-3.8-3.2-6.9-19-5.8-23.2c0.7-2.3,2.4-7.7,3.9-11.3c0.5-1.1,0.9-2.1,1.3-2.6c0.1-0.1,0.2-0.2,0.4-0.3c1.8-1.2,8.8-3.1,12.7-4.2 c1.2-0.3,2.4-0.7,3.5-1c0.5-0.1,1-0.3,1.4-0.4c0,0,0,0,0.1,0c0.1,0,0.3-0.1,0.4-0.1c0.7-0.2,0.9,0,1,0.1c0.1,0.1,0.1,0.2,0.2,0.3 c0.3,0.7,0.4,1.9-0.1,3.4c-0.1,0.4-0.4,1-0.8,1.7c-0.7,1.1-1.8,2.4-3.6,3.4c-1.1,0.6-2.5,1.1-4.2,1.4c-0.5,0.1-1,0.4-1.2,0.9 l-4.6,10.6c-0.2,0.4-0.2,0.9,0.1,1.3c0.2,0.4,0.6,0.7,1.1,0.8c0.2,0,6.1,1,9.6,9.2c0.3,0.8,1.2,1.1,2,0.8c0.8-0.3,1.1-1.2,0.8-2 c-3-7-7.6-9.6-10.1-10.6l3.6-8.3c0.8-0.2,1.6-0.4,2.3-0.7l-0.5,3.1c-0.5,3.1,1.5,6,4.6,6.5c0.3,0.1,0.7,0.1,1,0.1 c1.4,0,2.6-0.5,3.6-1.3c0.8,1.3,2.1,2.2,3.7,2.5c0.3,0.1,0.7,0.1,1,0.1c2.7,0,5.1-2,5.5-4.6l2.1-11.7c0.6,2.6,1.1,7.1,1.1,14 C70.9,68.1,70,76.3,68.8,78.7z"/>
            </svg>
          </button>
      </div>
      
    </div>
  </div>
</section>

<dialog class="mdl-dialog">
  <div class="close">
    <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
        <path d="M0 0h24v24H0z" fill="none"/>
    </svg>    
  </div>
  <div class="mdl-dialog__content">
    <div id="friends" class="shapes">
      <svg viewBox="0 0 100 100" class="icon">
        <use xlink:href="./assets/images/icon-sprite.svg#shape-flames-01"></use>
      </svg>
    </div>
    <div id="lovers" class="shapes">
      <svg viewBox="0 0 100 100" class="icon">
        <use xlink:href="./assets/images/icon-sprite.svg#shape-flames-02"></use>
      </svg>
    </div>
    <div id="affection" class="shapes">
      <svg viewBox="0 0 100 100" class="icon">
        <use xlink:href="./assets/images/icon-sprite.svg#shape-flames-03"></use>
      </svg>
      <h2 class="yourResult">Deserve your love and affection</h2>
    </div>
    <div id="marriage" class="shapes">
      <svg viewBox="0 0 100 100" width="100%" height="100%" class="icon">
        <use xlink:href="./assets/images/icon-sprite.svg#shape-flames-04"></use>
      </svg>
      <h2 class="yourResult">Falling in love many times, always with the same person.</h2>
    </div>
    <div id="enemy" class="shapes">
      <svg viewBox="0 0 100 100" class="icon">
        <use xlink:href="./assets/images/icon-sprite.svg#shape-flames-05"></use>
      </svg>
      <h2 class="yourResult">May my enemy live long to see my success</h2>
    </div>
    <div id="siblings" class="shapes">
      <svg viewBox="0 0 100 100" class="icon">
        <use xlink:href="./assets/images/icon-sprite.svg#shape-flames-06"></use>
      </svg>
      <h2 class="yourResult">There is no Friends like Sister/Brother</h2>
    </div>
  </div>
</dialog>
<script type="text/javascript" src="assets/scripts/lib/material.min.js"></script>
<script type="text/javascript">
  var launch = document.getElementById("launch");
  var dialog = document.querySelector('dialog');
  launch.addEventListener("click", function() {
    var checkYourName = document.getElementById("yourName").value.trim();
    var checkPartnerName = document.getElementById("partnerName").value.trim();
    if(checkYourName === '') {
      document.getElementById("yourName").parentElement.className += " is-invalid is-dirty";
    }

    if(checkPartnerName === '') {
      document.getElementById("partnerName").parentElement.className += " is-invalid is-dirty";
    }

    if(checkYourName !== '' && checkPartnerName !== '') {
      dialog.showModal();
      
      if (! dialog.showModal) {
        dialogPolyfill.registerDialog(dialog);
      }
      var myName = document
        .getElementById("yourName")
        .value.replace(/ /g, "")
        .toLowerCase()
        .split("");
      var partnerName = document
        .getElementById("partnerName")
        .value.replace(/ /g, "")
        .toLowerCase()
        .split("");

      var flames = ["f", "l", "a", "m", "e", "s"];
      var myNameLength = myName.length;
      var partnerNameLength = partnerName.length;
      var count = 0;
      for (var i = 0; i < myNameLength; i++) {
        for (var j = 0; j < partnerNameLength; j++) {
          if (myName[i] == partnerName[j]) {
            count = count + 2;
            partnerName[j] = "*";
            break;
          }
        }
      }
      var totalLength = myNameLength + partnerNameLength;
      var numberOfMatch = totalLength - count;
      //To Find FLAMES
      var step = 1;
      for (var k = 6; k > 1; k--) {
        var g = numberOfMatch % k + step - 1;
        if (g > k) {
          g = g % k;
        }
        if (g == 0) {
          g = flames.length;
        }
        flames.splice(g - 1, 1);
        step = g;
      }
      var yourMatch = flames[0];

      switch (yourMatch) {
        case "f":
          document.querySelector('.mdl-dialog').style.backgroundColor = "#1e5cf7";
          document.getElementById('lovers').style.display = "none";
          document.getElementById('affection').style.display = "none";
          document.getElementById('marriage').style.display = "none";
          document.getElementById('enemy').style.display = "none";
          document.getElementById('siblings').style.display = "none";
          document.getElementById('friends').style.display = "block";
          break;

        case "l":
          document.querySelector('.mdl-dialog').style.backgroundColor = "#e03859";
          document.getElementById('friends').style.display = "none";
          document.getElementById('affection').style.display = "none";
          document.getElementById('marriage').style.display = "none";
          document.getElementById('enemy').style.display = "none";
          document.getElementById('siblings').style.display = "none";
          document.getElementById('lovers').style.display = "block";
          break;

        case "a":
          document.querySelector('.mdl-dialog').style.backgroundColor = "#fec552";
          document.getElementById('friends').style.display = "none";
          document.getElementById('lovers').style.display = "none";
          document.getElementById('marriage').style.display = "none";
          document.getElementById('enemy').style.display = "none";
          document.getElementById('siblings').style.display = "none";
          document.getElementById('affection').style.display = "block";
          break;

        case "m":
          document.querySelector('.mdl-dialog').style.backgroundColor = "#8ad1f9";
          document.getElementById('friends').style.display = "none";
          document.getElementById('lovers').style.display = "none";
          document.getElementById('affection').style.display = "none";
          document.getElementById('enemy').style.display = "none";
          document.getElementById('siblings').style.display = "none";
          document.getElementById('marriage').style.display = "block";
          break;

        case "e":
          document.querySelector('.mdl-dialog').style.backgroundColor = "#e0b6b6";
          document.getElementById('friends').style.display = "none";
          document.getElementById('lovers').style.display = "none";
          document.getElementById('affection').style.display = "none";
          document.getElementById('marriage').style.display = "none";
          document.getElementById('siblings').style.display = "none";
          document.getElementById('enemy').style.display = "block";
          console.log("We are enemies");
          break;

        case "s":
          document.querySelector('.mdl-dialog').style.backgroundColor = "#b6ddb9";
          document.getElementById('friends').style.display = "none";
          document.getElementById('lovers').style.display = "none";
          document.getElementById('affection').style.display = "none";
          document.getElementById('marriage').style.display = "none";
          document.getElementById('enemy').style.display = "none";
          document.getElementById('siblings').style.display = "block";
          console.log("We are Sister/Brother");
          break;

        default:
          console.log("Sorry, we are out of " + yourMatch + ".");
      }
    }
  });

  dialog.querySelector('.close').addEventListener('click', function() {
    document.getElementById("yourName").value = '';
    document.getElementById("partnerName").value = '';
    dialog.close();
  });
</script>
</body>
</html>
